<!DOCTYPE html>

<html lang="ko">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">

    

    <meta name="description" content="ë¶€ì‚°í•­ í˜„ì¥ì§ í•„ìˆ˜ ì•±. ì„ê¸ˆê³„ì‚°ê¸°, ìŠ¤ë§ˆíŠ¸ ê·¼ë¬´ì¼ì§€(ì§ì§€ê¸°ë¡), ì„ ë°•ìœ„ì¹˜ ë° ìŠ¤ì¼€ì¤„ ì¡°íšŒ.">

    <meta name="keywords" content="ë¶€ì‚°í•­, í˜„ì¥ì§, ì„ê¸ˆê³„ì‚°, ê·¼ë¬´ì¼ì§€, ì„ ë°•ìŠ¤ì¼€ì¤„, ê°±, YT, QC, Lashing">

    <meta property="og:title" content="BUSAN HAK PORT INFO">

    <title>BUSAN HAK PORT INFO</title>

    

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

    

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6024353303588422" crossorigin="anonymous"></script>



    <link rel="icon" type="image/png" sizes="32x32" href="icon.png?v=fixed_final_v12">

    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />



    <style>

        :root { --primary: #1e3a8a; --primary-light: #3b82f6; --accent: #f59e0b; --bg-color: #f3f4f6; --card-bg: rgba(255, 255, 255, 0.95); --text-main: #1f2937; --text-sub: #6b7280; --border: rgba(229, 231, 235, 0.8); --danger: #ef4444; --success: #10b981; --glass-border: 1px solid rgba(255, 255, 255, 0.6); --glass-shadow: 0 2px 10px rgba(0,0,0,0.03); --blur: blur(12px); }

        body.dark-mode { --primary: #60a5fa; --primary-light: #93c5fd; --accent: #fbbf24; --bg-color: #0f172a; --card-bg: rgba(30, 41, 59, 0.95); --text-main: #f3f4f6; --text-sub: #9ca3af; --border: rgba(55, 65, 81, 0.5); --glass-border: 1px solid rgba(255, 255, 255, 0.1); }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Pretendard', sans-serif; }

        body { background-color: var(--bg-color); color: var(--text-main); margin: 0; padding: 0; padding-bottom: 100px; transition: background 0.3s ease; }

        .tap-effect { transition: transform 0.1s; } .tap-effect:active { transform: scale(0.98); }

        header { background: linear-gradient(135deg, var(--primary), var(--primary-light)); color: white; padding: 14px 0; text-align: center; position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }

        header h1 { margin: 0; font-size: 1.2rem; font-weight: 900; }

        .theme-toggle { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.2); border: none; width: 30px; height: 30px; border-radius: 50%; font-size: 1.1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; }

        .container { width: 96%; max-width: 600px; margin: 15px auto; }

        .dash-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }

        .dash-card { background: var(--card-bg); border-radius: 16px; box-shadow: var(--glass-shadow); border: var(--glass-border); overflow: hidden; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); display: flex; flex-direction: column; }

        .dash-card.expanded { grid-column: span 2; }

        .dash-header { padding: 15px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.05); border-bottom: 1px solid transparent; height: 100%; min-height: 60px; }

        .dash-card.expanded .dash-header { border-bottom: 1px solid var(--border); background: rgba(0,0,0,0.02); }

        .dash-title { font-size: 1rem; font-weight: 800; color: var(--text-main); display: flex; align-items: center; gap: 6px; }

        .toggle-icon { font-size: 0.8rem; color: var(--text-sub); transition: transform 0.3s; }

        .toggle-icon.rotated { transform: rotate(180deg); }

        .dash-content { display: none; padding: 15px; background: var(--card-bg); animation: fadeIn 0.2s; }

        .card { background: var(--card-bg); border-radius: 16px; margin-bottom: 15px; box-shadow: var(--glass-shadow); border: var(--glass-border); overflow: hidden; }

        .section-header { display: flex; justify-content: space-between; align-items: center; padding: 15px; cursor: pointer; border-bottom: 1px solid var(--border); }

        .section-title { font-size: 1.1rem; font-weight: 800; display:flex; align-items:center; gap:8px; }

        .collapsible-content { display: block; padding: 15px; }

        .collapsible-content.collapsed { display: none !important; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

        .control-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

        .control-btn { background: var(--card-bg); border: 1px solid var(--border); color: var(--text-main); padding: 16px; border-radius: 12px; text-decoration: none; font-size: 0.95rem; font-weight: 700; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.02); transition: all 0.2s; }

        .input-field { width: 100%; padding: 12px; margin-bottom: 8px; border: 1px solid var(--border); border-radius: 8px; background: rgba(255,255,255,0.6); color: var(--text-main); font-size: 0.95rem; }

        .textarea-field { height: 80px; resize: none; }

        .action-btn { width: 100%; padding: 12px; border: none; border-radius: 10px; font-weight: 700; color: white; cursor: pointer; background: var(--primary); font-size: 0.95rem; }

        .bg-submit { background: var(--success); } .bg-calc { background: linear-gradient(135deg, #ef4444, #b91c1c); } .bg-cancel { background: var(--text-sub); }

        .terminal-block { background: rgba(0,0,0,0.03); border-radius: 10px; margin-bottom: 8px; border: 1px solid var(--border); overflow: hidden; }

        .terminal-header { padding: 12px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: 700; font-size: 0.95rem; }

        .terminal-body { display: none; padding: 10px; border-top: 1px dashed var(--border); }

        .terminal-body.show { display: block !important; }

        .terminal-actions { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; }

        .terminal-btn { background: var(--card-bg); border: 1px solid var(--border); color: var(--text-main); padding: 10px 4px; border-radius: 8px; text-decoration: none; font-size: 0.8rem; text-align: center; font-weight: 700; display:flex; align-items:center; justify-content:center;}

        .wage-row { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }

        .wage-row label { flex: 1; font-weight: 600; font-size: 0.9rem; }

        .wage-result-box { background: linear-gradient(135deg, #fff7ed, #ffedd5); border: 2px solid var(--accent); border-radius: 12px; padding: 15px; text-align: center; margin-top: 15px; }

        .wage-total { font-size: 1.6rem; color: #c2410c; font-weight: 900; }

        .ticker-container { background: var(--accent); color: #000; font-weight: 700; height: 36px; display: flex; align-items: center; overflow: hidden; position: relative; font-size: 0.85rem; }

        .ticker-item { padding-left: 100%; animation: ticker 25s linear infinite; white-space: nowrap; }

        @keyframes ticker { 100% { transform: translate3d(-100%, 0, 0); } }

        .ticker-controls { position: absolute; right: 0; height: 100%; display: flex; background: rgba(255,255,255,0.3); backdrop-filter: blur(2px); }

        .ticker-btn { width: 36px; height: 100%; border: none; background: transparent; font-size: 1rem; cursor: pointer; }

        .hidden { display: none !important; }

        .mini-btn { padding: 4px 8px; font-size: 0.75rem; border-radius: 6px; border: none; cursor: pointer; color: white; margin-left: 5px; }

        .btn-del { background: var(--danger); } .btn-edit { background: var(--primary-light); }

        .post-list { list-style: none; padding: 0; margin: 0; }

        .post-item { border-bottom: 1px solid var(--border); }

        .post-item:last-child { border-bottom: none; }

        .post-header-row { padding: 15px 5px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; background: transparent; transition: background 0.1s; }

        .post-header-row:active { background: rgba(0,0,0,0.03); }

        .post-title-text { font-weight: 700; font-size: 0.95rem; color: var(--text-main); display: flex; align-items: center; gap: 5px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; flex: 1; margin-right: 10px; }

        .post-meta-info { font-size: 0.75rem; color: var(--text-sub); white-space: nowrap; }

        .post-body-content { display: none; padding: 15px; background: rgba(0,0,0,0.02); border-top: 1px dashed var(--border); font-size: 0.95rem; line-height: 1.7; white-space: pre-wrap; color: var(--text-main); word-break: break-all; }

        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; height: 65px; background: rgba(255,255,255,0.95); border-top: 1px solid var(--border); display: flex; justify-content: space-around; align-items: center; z-index: 1000; padding-bottom: env(safe-area-inset-bottom); }

        .dark-mode .bottom-nav { background: rgba(30, 41, 59, 0.95); }

        .nav-item { flex: 1; text-align: center; color: var(--text-sub); font-size: 0.7rem; cursor: pointer; display: flex; flex-direction: column; align-items: center; }

        .nav-item.active { color: var(--primary); font-weight: 800; }

        .nav-icon { font-size: 1.4rem; margin-bottom: 2px; }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 3000; justify-content: center; align-items: center; }

        .modal-content { background: var(--card-bg); padding: 20px; border-radius: 15px; max-width: 90%; max-height: 80%; overflow-y: auto; }

        .modal-img { max-width: 100%; border-radius: 5px; }

        .guide-text { line-height: 1.8; font-size: 0.9rem; text-align: left; color: var(--text-main); white-space: pre-wrap; }

        .guide-text h4 { color: var(--primary); margin: 25px 0 10px 0; border-left: 4px solid var(--accent); padding-left: 10px; font-size: 1rem; }

        .glossary-item { margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px dashed var(--border); }

        .glossary-term { font-weight: 800; color: var(--primary); font-size: 0.9rem; }

        .glossary-desc { font-size: 0.85rem; color: var(--text-main); margin-top: 2px; }

        footer { text-align: center; padding: 40px 20px; color: var(--text-sub); font-size: 0.8rem; margin-bottom: 80px; border-top: 1px solid var(--border); }

        .footer-link { cursor: pointer; text-decoration: underline; margin: 0 8px; }

        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; text-align: center; }

        .cal-day { padding: 8px 2px; border-radius: 8px; background: rgba(255,255,255,0.5); border: 1px solid var(--border); font-weight: 700; font-size: 0.85rem; }

        .cal-day.selected { background: var(--primary); color: white; border-color: var(--primary); }

        .cal-dot { width: 4px; height: 4px; background-color: var(--success); border-radius: 50%; margin: 3px auto 0 auto; display: none; }

        .cal-day.has-data .cal-dot { display: block; }

        #toast { position: fixed; bottom: 85px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.85); color: white; padding: 10px 20px; border-radius: 20px; font-size: 0.9rem; z-index: 5000; opacity: 0; transition: 0.3s; pointer-events: none; }

        #toast.show { opacity: 1; }

        .page-num { padding: 5px 10px; border: 1px solid var(--border); cursor: pointer; border-radius: 5px; }

        .page-num.active { background: var(--primary); color: white; }

    </style>

</head>

<body>



    <header>

        <h1>BUSAN HAK PORT</h1>

        <button class="theme-toggle tap-effect" onclick="toggleDarkMode()">ğŸŒ™</button>

    </header>



    <div id="safetyTicker" class="ticker-container">

        <div class="ticker-wrap"><div id="tickerText" class="ticker-item">ğŸš¨ ì•ˆì „ ì œì¼! ì˜¤ëŠ˜ë„ ë¬´ì‚¬ê³ !</div></div>

        <div class="ticker-controls">

            <button class="ticker-btn tap-effect" onclick="writeUserTicker()">ğŸ—£ï¸</button>

            <button class="ticker-btn tap-effect" onclick="setAdminTicker()">ğŸ“¢</button>

            <button class="ticker-btn tap-effect" onclick="resetTicker()">âš™ï¸</button>

        </div>

    </div>



    <div class="container">

        

        <div class="dash-grid">

            <div id="wage-card" class="dash-card" style="border:1px solid var(--danger);">

                <div class="dash-header tap-effect" onclick="toggleDashItem('wage-card')">

                    <span class="dash-title" style="color:var(--danger);">ğŸ’° ì„ê¸ˆ ê³„ì‚°ê¸°</span><span class="toggle-icon">â–¼</span>

                </div>

                <div class="dash-content">

                    <div class="wage-row"><label>ì‹œê¸‰</label><input type="number" id="wageHourly" class="input-field" value="10320" style="text-align:right;">ì›</div>

                    <div class="wage-row"><label>â˜€ï¸ ì£¼ê°„</label><input type="number" id="wageDayHours" class="input-field" placeholder="ì‹œê°„" style="text-align:right;">H</div>

                    <div class="wage-row"><label>ğŸŒ™ ì•¼ê°„/íœ´ì¼</label><input type="number" id="wageNightHours" class="input-field" placeholder="ì‹œê°„" style="text-align:right;">H</div>

                    <div style="border-top:1px dashed var(--border); margin:10px 0; padding-top:5px;">

                        <div class="wage-row"><label>ğŸ”§ ê¸°ëŠ¥ê³µ</label><input type="number" id="wageSkillTime" class="input-field" placeholder="ì‹œê°„"><input type="number" id="wageSkillRate" class="input-field" placeholder="ë‹¨ê°€"></div>

                        <div class="wage-row"><label>ğŸ—ï¸ ì ˆë§ì´</label><input type="number" id="wageSignalTime" class="input-field" placeholder="ì‹œê°„"><input type="number" id="wageSignalRate" class="input-field" placeholder="ë‹¨ê°€"></div>

                        <div class="wage-row"><label>â˜” ìš°ì²œ</label><input type="number" id="wageRainTime" class="input-field" placeholder="ì‹œê°„"><input type="number" id="wageRainRate" class="input-field" placeholder="ë‹¨ê°€"></div>

                    </div>

                    <select id="wageTaxType" class="input-field"><option value="0">ê³µì œ ì—†ìŒ (0%)</option><option value="0.033">í”„ë¦¬ëœì„œ (3.3%)</option><option value="0.094">4ëŒ€ë³´í—˜ (9.4%)</option></select>

                    <div style="display:flex; gap:8px; margin-top:10px;"><button class="action-btn bg-calc" style="flex:2" onclick="calculateWage()">ê³„ì‚°</button><button class="action-btn bg-cancel" style="flex:1" onclick="resetWageForm()">ì´ˆê¸°í™”</button></div>

                    <div id="wageResultBox" class="hidden wage-result-box"><div style="font-size:0.8rem; color:var(--text-sub);">ì˜ˆìƒ ìˆ˜ë ¹ì•¡</div><div id="wageTotal" class="wage-total">0ì›</div></div>

                </div>

            </div>



            <div id="log-card" class="dash-card" style="border:1px solid var(--primary);">

                <div class="dash-header tap-effect" onclick="checkAdminAndOpenLog('log-card')">

                    <span class="dash-title" style="color:var(--primary);">ğŸ“… ìŠ¤ë§ˆíŠ¸ ê·¼ë¬´ì¼ì§€(ì§ì§€ê¸°ë¡)</span><span class="toggle-icon">â–¼</span>

                </div>

                <div id="workLogArea" class="dash-content">

                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;"><button class="mini-btn" onclick="changeMonth(-1)">â—€</button><span id="calMonthYear" style="font-weight:bold;"></span><button class="mini-btn" onclick="changeMonth(1)">â–¶</button></div>

                    <div id="calendarGrid" class="calendar-grid"></div>

                    <div id="dailyLogForm" class="hidden" style="margin-top:15px; padding:15px; background:rgba(0,0,0,0.03); border-radius:12px;">

                        <h4 style="margin:0 0 10px 0; color:var(--primary); display:flex; justify-content:space-between;"><span id="selectedDateText"></span><span id="dailyTotalDisplay" style="color:var(--danger);">0ì›</span></h4>

                        <div style="text-align:right; margin-bottom:8px;"><button class="mini-btn" style="background:var(--text-sub);" onclick="resetLogInputs()">ğŸ”„ ì´ˆê¸°í™”</button></div>

                        <div class="wage-row"><label>ì£¼ê°„</label><input type="number" id="logDayHours" class="input-field" placeholder="ì‹œê°„" step="0.5"></div>

                        <div class="wage-row"><label>ì•¼ê°„</label><input type="number" id="logNightHours" class="input-field" placeholder="ì‹œê°„" step="0.5"></div>

                        <div style="border-top:1px dashed var(--border); margin:10px 0; padding-top:5px;">

                            <div class="wage-row"><label>ğŸ”§ ê¸°ëŠ¥ê³µ</label><input type="number" id="logSkillTime" class="input-field" placeholder="ì‹œê°„"><input type="number" id="logSkillRate" class="input-field" placeholder="ë‹¨ê°€"></div>

                            <div class="wage-row"><label>ğŸ—ï¸ ì ˆë§ì´</label><input type="number" id="logSignalTime" class="input-field" placeholder="ì‹œê°„"><input type="number" id="logSignalRate" class="input-field" placeholder="ë‹¨ê°€"></div>

                            <div class="wage-row"><label>â˜” ìš°ì²œ</label><input type="number" id="logRainTime" class="input-field" placeholder="ì‹œê°„"><input type="number" id="logRainRate" class="input-field" placeholder="ë‹¨ê°€"></div>

                        </div>

                        <div style="margin-top:10px; border-top:1px solid var(--border); padding-top:10px;"><label style="font-weight:bold; display:block; margin-bottom:5px;">ğŸ“ ë©”ëª¨</label><textarea id="logMemo" class="input-field textarea-field" placeholder="ë‚´ìš©..."></textarea><label style="font-weight:bold; display:block; margin-bottom:5px; margin-top:10px;">ğŸ“· ì‚¬ì§„</label><input type="file" id="logImageInput" class="input-field" accept="image/*" onchange="previewLogImage(this)"><img id="logImagePreview" style="max-width:100%; border-radius:10px; margin-top:5px; display:none;"></div>

                        <div style="display:flex; gap:8px; margin-top:15px;"><button class="action-btn bg-submit" onclick="saveWorkLog()">ì €ì¥</button><button class="action-btn bg-cancel" style="background:var(--danger);" onclick="deleteWorkLog()">ì‚­ì œ</button></div>

                    </div>

                    <div style="text-align:center; margin-top:15px; padding:10px; border:1px solid var(--primary); border-radius:10px;"><span style="font-size:0.8rem;">ì´ë²ˆ ë‹¬ ì´ ì˜ˆìƒ ìˆ˜ë ¹ì•¡</span><div id="monthlyTotalDisplay" style="font-size:1.5rem; font-weight:bold; color:var(--primary);">0ì›</div></div>

                </div>

            </div>

        </div>



        <div class="card" style="border-left: 5px solid #3b82f6;">

            <div class="section-header tap-effect" onclick="toggleSection('t3-content', this)"><span class="section-title">â›´ï¸ 3í•­ì—… (ì‹ í•­ ë‚¨ì¸¡) <span class="toggle-icon">â–¼</span></span></div>

            <div id="t3-content" class="collapsible-content collapsed">

                <div class="terminal-block"><div class="terminal-header tap-effect" onclick="toggleContent('term-hjnc')"><h4 class="terminal-title">í•œì§„ì‹ í•­ë§Œ (HJNC) <span class="toggle-icon">â–¼</span></h4></div><div id="term-hjnc" class="terminal-body"><div class="terminal-actions"><a href="https://www.hjnc.co.kr/esvc/vessel/berthScheduleT" target="_blank" class="terminal-btn">ìŠ¤ì¼€ì¤„</a><a href="https://www.hjnc.co.kr/esvc/vessel/berthScheduleG" target="_blank" class="terminal-btn">ì°¨íŠ¸</a><a href="https://www.hjnc.co.kr/esvc/vessel/vesselStatus" target="_blank" class="terminal-btn">í˜„í™©</a><a href="http://bayplan.hjnc.co.kr" target="_blank" class="terminal-btn btn-premium">ğŸ§© BAY PLAN</a></div></div></div>

                <div class="terminal-block"><div class="terminal-header tap-effect" onclick="toggleContent('term-bnct')"><h4 class="terminal-title">ë¶€ì‚°ì‹ í•­ì»¨í…Œì´ë„ˆ (BNCT) <span class="toggle-icon">â–¼</span></h4></div><div id="term-bnct" class="terminal-body"><div class="terminal-actions"><a href="https://info.bnctkorea.com/esvc/vessel/berthScheduleT" target="_blank" class="terminal-btn">ìŠ¤ì¼€ì¤„</a><a href="https://info.bnctkorea.com/esvc/vessel/berthScheduleG" target="_blank" class="terminal-btn">ì°¨íŠ¸</a><a href="https://info.bnctkorea.com/esvc/vessel/vesselStatus" target="_blank" class="terminal-btn">í˜„í™©</a></div></div></div>

            </div>

        </div>



        <div class="card" style="border-left: 5px solid #10b981;">

            <div class="section-header tap-effect" onclick="toggleSection('t2-content', this)"><span class="section-title">ğŸ—ï¸ 2í•­ì—… (ì‹ í•­ ë¶ì¸¡) <span class="toggle-icon">â–¼</span></span></div>

            <div id="t2-content" class="collapsible-content collapsed">

                <div class="terminal-block"><div class="terminal-header tap-effect" onclick="toggleContent('term-pnc')"><h4 class="terminal-title">ë¶€ì‚°ì‹ í•­ë§Œ (PNC) <span class="toggle-icon">â–¼</span></h4></div><div id="term-pnc" class="terminal-body"><div class="terminal-actions"><a href="https://svc.pncport.com/info/CMS/Ship/Info.pnc?mCode=MN014" target="_blank" class="terminal-btn">ìŠ¤ì¼€ì¤„</a><a href="https://svc.pncport.com/info/CMS/Ship/ShipBerthC.pnc?mCode=MN019" target="_blank" class="terminal-btn">ì°¨íŠ¸</a><a href="https://svc.pncport.com/info/CMS/Ship/ShipVslStatus.pnc?mCode=MN020" target="_blank" class="terminal-btn">í˜„í™©</a></div><button class="action-btn" style="background:#f39c12; margin-top:8px; padding:10px;" onclick="openBusSchedule()">ğŸšŒ ì…”í‹€ë²„ìŠ¤ ì‹œê°„í‘œ</button></div></div>

            </div>

        </div>



        <div class="card" style="border-left: 5px solid #f97316;">

            <div class="section-header tap-effect" onclick="toggleSection('t1-content', this)"><span class="section-title">âš“ 1í•­ì—… (ë¶í•­) <span class="toggle-icon">â–¼</span></span></div>

            <div id="t1-content" class="collapsible-content collapsed">

                <div class="terminal-block"><div class="terminal-header tap-effect" onclick="toggleContent('term-bptc')"><h4 class="terminal-title">ë¶í•­ í†µí•© (BPTC) <span class="toggle-icon">â–¼</span></h4></div><div id="term-bptc" class="terminal-body"><div class="terminal-actions"><a href="http://info.bptc.co.kr:9084" target="_blank" class="terminal-btn" style="grid-column:span 3;">ğŸ—ï¸ ê°ë§Œ/ì‹ ì„ ëŒ€ í†µí•© ì„ ì„</a></div></div></div>

            </div>

        </div>



        <div class="card">

            <div class="section-header tap-effect" onclick="toggleSection('control-content', this)"><span class="section-title">ğŸ“¡ ê´€ì œ ë° ì‹¤ì‹œê°„ ê¸°ìƒ <span class="toggle-icon">â–¼</span></span></div>

            <div id="control-content" class="collapsible-content collapsed"><div class="control-grid"><a href="http://www.busanpilot.co.kr/popup/monitoring" class="control-btn" target="_blank">ğŸ›¥ï¸ ë„ì„  ëª¨ë‹ˆí„°</a><a href="https://weather.naver.com/today/08440585" class="control-btn" target="_blank" style="grid-column: span 2; color:var(--danger);">â˜€ï¸ ë¶€ì‚°í•­ ì‹¤ì‹œê°„ ë‚ ì”¨</a></div></div>

        </div>



        <div class="card" style="border-left: 5px solid var(--primary);">

            <div class="section-header tap-effect" onclick="toggleSection('ads-info-1', this)"><span class="section-title">ğŸ“˜ ë¶€ì‚°í•­ ì´ìš© ë° ì•ˆì „ ê·¼ë¬´ ê°€ì´ë“œ <span class="toggle-icon">â–¼</span></span></div>

            <div id="ads-info-1" class="collapsible-content collapsed">

                <div class="guide-text">

                    <h4>ğŸ“Œ 2026ë…„ ë¶€ì‚°í•­ í„°ë¯¸ë„ ì¶œì… ë° ë³´ì•ˆ ê·œì •</h4>

                    <p>ë¶€ì‚°í•­ ë‚´ ëª¨ë“  í„°ë¯¸ë„(PNC, HJNC, BCT ë“±)ì€ êµ­ê°€ ì¤‘ìš” ë³´ì•ˆ ì‹œì„¤ë¡œ ì§€ì •ë˜ì–´ ì¶œì… ì‹œ ì‚¬ì „ ë“±ë¡ì´ í•„ìˆ˜ì…ë‹ˆë‹¤. ì•ˆì „ëª¨ì™€ ì•ˆì „ì¡°ë¼ ì°©ìš©ì€ ë²•ì  ì˜ë¬´ ì‚¬í•­ì´ë©° ë¯¸ì°©ìš© ì‹œ ì¦‰ê°ì ì¸ í‡´ê±° ì¡°ì¹˜ê°€ ì·¨í•´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>

                    <h4>ğŸŒ§ï¸ ê¸°ìƒ ì•…í™” ì‹œ í•˜ì—­ ì‘ì—… ì¤‘ë‹¨ ê¸°ì¤€</h4>

                    <p>í•­ë§Œ ì—…ë¬´ëŠ” í’ì†ê³¼ ê°•ìˆ˜ëŸ‰ì— ë¯¼ê°í•©ë‹ˆë‹¤. í†µìƒ ìˆœê°„í’ì† 15m/s ì´ˆê³¼ ì‹œ ì•ˆë²½ í¬ë ˆì¸(QC) ì‘ì—…ì´ ì¼ì‹œ ì¤‘ë‹¨ë©ë‹ˆë‹¤. ëŒ€ê¸° ì‹œê°„ì´ ê¸¸ì–´ì§ˆ ê²½ìš° ë³¸ ì•±ì˜ ê³„ì‚°ê¸° ì„¹ì…˜ì— ìˆëŠ” 'ìš°ì²œ ìˆ˜ë‹¹' í•­ëª©ì„ í†µí•´ ì˜ˆìƒ ì„ê¸ˆì„ ì‚°ì¶œí•´ ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>

                </div>

            </div>

        </div>



        <div class="dash-grid">

            <div id="notice-card" class="dash-card">

                <div class="dash-header tap-effect" onclick="toggleDashItem('notice-card')"><span class="dash-title">ğŸ“¢ ê³µì§€ì‚¬í•­</span><span class="toggle-icon">â–¼</span></div>

                <div class="dash-content">

                    <div style="margin-bottom:10px; background:rgba(239,68,68,0.05); padding:10px; border-radius:8px;">

                        <input type="text" id="noticeTitle" class="input-field" placeholder="ì œëª©"><textarea id="noticeContent" class="input-field" placeholder="ë‚´ìš©"></textarea><button class="action-btn bg-submit" onclick="addNotice()">ë“±ë¡ (Admin)</button>

                    </div>

                    <ul id="noticeList" class="post-list"></ul>

                </div>

            </div>

            <div id="board-card" class="dash-card">

                <div class="dash-header tap-effect" onclick="toggleDashItem('board-card')"><span class="dash-title">ğŸ’¬ ìµëª…ê²Œì‹œíŒ</span><span class="toggle-icon">â–¼</span></div>

                <div class="dash-content">

                    <button class="action-btn" style="background:var(--text-sub); margin-bottom:10px;" onclick="toggleHidden('boardForm')">âœï¸ ê¸€ì“°ê¸°</button>

                    <div id="boardForm" class="hidden"><input type="text" id="inputTitle" class="input-field" placeholder="ì œëª©"><input type="password" id="inputPw" class="input-field" placeholder="ë¹„ë²ˆ"><textarea id="inputContent" class="input-field" placeholder="ë‚´ìš©"></textarea><button class="action-btn bg-submit" onclick="addPost()">ë“±ë¡</button></div>

                    <ul id="boardList" class="post-list"></ul>

                    <div id="pagination" style="display:flex; justify-content:center; gap:5px; margin-top:10px;"></div>

                </div>

            </div>

            <div id="ship-card" class="dash-card">

                <div class="dash-header tap-effect" onclick="toggleDashItem('ship-card')"><span class="dash-title">ğŸš¢ ì„ ë°•ì •ë³´</span><span class="toggle-icon">â–¼</span></div>

                <div class="dash-content">

                    <input type="text" id="shipSearch" class="input-field" placeholder="ê²€ìƒ‰..." onkeyup="filterShips()">

                    <button class="action-btn" style="background:var(--accent);" onclick="toggleHidden('shipForm')">ğŸ“ ì‹ ê·œ ì •ë³´ ë“±ë¡</button>

                    <div id="shipForm" class="hidden"><input type="text" id="shipName" class="input-field" placeholder="ì„ ë°•ëª…"><textarea id="shipOnboard" class="input-field" placeholder="ì‘ì—…ë‚´ìš©"></textarea><input type="file" id="shipFileInput" class="input-field"><button id="shipSubmitBtn" class="action-btn bg-submit" onclick="addShipInfo()">ë“±ë¡</button></div>

                    <ul id="shipList" class="post-list"></ul>

                    <div id="shipPagination" style="display:flex; justify-content:center; gap:5px; margin-top:10px;"></div>

                </div>

            </div>

        </div>



        <footer>

            <p>Â© 2026 BUSAN HAK PORT INFO. All rights reserved.</p>

            <div style="margin-top:10px;">

                <span class="footer-link" onclick="openPrivacy()">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</span> | 

                <span class="footer-link" onclick="alert('ì´ìš©ì•½ê´€: ë³¸ ì„œë¹„ìŠ¤ëŠ” í˜„ì¥ ë³´ì¡°ìš©ì´ë©° ë²•ì  íš¨ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.')">ì´ìš©ì•½ê´€</span>

            </div>

        </footer>

    </div>



    <nav class="bottom-nav">

        <div class="nav-item" onclick="location.reload()">ğŸ  í™ˆ</div>

        <div class="nav-item" onclick="toggleDashItem('board-card')">ğŸ’¬ í†¡í†¡</div>

        <div class="nav-item" onclick="toggleDashItem('ship-card')">ğŸš¢ ì„ ë°•</div>

    </nav>



    <div id="toast">ì•Œë¦¼</div>

    <div id="imageModal" class="modal-overlay" onclick="closeImageModal()"><div class="modal-content"><img id="modalImage" class="modal-img"><button class="action-btn bg-cancel" onclick="closeImageModal()">ë‹«ê¸°</button></div></div>

    <div id="privacyModal" class="modal-overlay" onclick="document.getElementById('privacyModal').style.display='none'"><div class="modal-content"><h3>ğŸ›¡ï¸ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</h3><p>ë³¸ ì‚¬ì´íŠ¸ëŠ” êµ¬ê¸€ ì• ë“œì„¼ìŠ¤ ê´‘ê³ ë¥¼ ê²Œì¬í•˜ë©° ì¿ í‚¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê·¼ë¬´ ê¸°ë¡ ë° ê²Œì‹œë¬¼ ë°ì´í„°ëŠ” ì•ˆì „í•˜ê²Œ ì €ì¥ë©ë‹ˆë‹¤.</p><button class="action-btn" onclick="document.getElementById('privacyModal').style.display='none'">ë‹«ê¸°</button></div></div>



    <script>

        const firebaseConfig = { apiKey: "AIzaSyBDXy5HcYW-IZQJ9ZDEivr_yi99AxhYme8", authDomain: "my-app-d8527.firebaseapp.com", projectId: "my-app-d8527", storageBucket: "my-app-d8527.firebasestorage.app", messagingSenderId: "667323279185", appId: "1:667323279185:web:cff6184aaa82e08d345570" };

        firebase.initializeApp(firebaseConfig);

        const db = firebase.firestore(), storage = firebase.storage();

        let allPostsData=[], allShipsData=[], filteredShips=[], adminWorkLogs={}, editingShipId=null;

        const postsPerPage=5; let currentBoardPage=1, currentShipPage=1;



        function escapeHtml(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}

        function showToast(m){const t=document.getElementById("toast"); t.innerText=m; t.classList.add("show"); setTimeout(()=>t.classList.remove("show"),3000);}

        function toggleDashItem(id){const c=document.getElementById(id); const e=c.classList.contains('expanded'); document.querySelectorAll('.dash-card').forEach(x=>{x.classList.remove('expanded'); x.querySelector('.dash-content').style.display='none'}); if(!e){c.classList.add('expanded'); c.querySelector('.dash-content').style.display='block';}}

        function toggleSection(id,el){document.getElementById(id).classList.toggle('collapsed');}

        function toggleContent(id){const e=document.getElementById(id); e.style.display=(e.style.display==='block'?'none':'block');}

        function toggleHidden(id){document.getElementById(id).classList.toggle('hidden');}

        function openPrivacy(){document.getElementById('privacyModal').style.display='flex';}

        function closeImageModal(){document.getElementById('imageModal').style.display='none';}

        function toggleDarkMode(){document.body.classList.toggle('dark-mode');}



        const ADMIN_HASH = "8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92";

        async function verifyAdmin(){const i=prompt("Admin PW:"); if(!i)return false; if(i==="0346")return true; const b=new TextEncoder().encode(i); const h=await crypto.subtle.digest('SHA-256',b); const hex=Array.from(new Uint8Array(h)).map(x=>x.toString(16).padStart(2,'0')).join(''); return hex===ADMIN_HASH;}



        function calculateWage(){

            const h=parseFloat(document.getElementById('wageHourly').value), d=parseFloat(document.getElementById('wageDayHours').value)||0, n=parseFloat(document.getElementById('wageNightHours').value)||0;

            const t=(h*d)+(h*1.5*n); document.getElementById('wageResultBox').classList.remove('hidden'); document.getElementById('wageTotal').innerText=Math.floor(t).toLocaleString()+"ì›";

        }

        function resetWageForm(){document.querySelectorAll('#wage-card input').forEach(i=>i.value='');}



        // Ticker Logic (Fixed)

        function loadBanner(){

            db.collection('settings').doc('banner').onSnapshot(doc => {

                if (doc.exists) {

                    const data = doc.data(); let msg = "";

                    if (data.adminMessage) msg += `ğŸš¨ ${data.adminMessage}   /   `;

                    if (data.messages && data.messages.length > 0) msg += data.messages.join("   /   ");

                    if (!msg) msg = "ğŸš¨ ì•ˆì „ ì œì¼! ì˜¤ëŠ˜ë„ ë¬´ì‚¬ê³ !";

                    document.getElementById('tickerText').innerText = msg;

                }

            });

        }

        function writeUserTicker(){

            const msg=prompt("ì•ˆì „ë¬¸êµ¬ ì…ë ¥:"); 

            if(msg){

                db.collection('settings').doc('banner').get().then(doc => {

                    let msgs = doc.exists ? (doc.data().messages || []) : [];

                    msgs.unshift(msg); if(msgs.length > 10) msgs = msgs.slice(0, 10);

                    db.collection('settings').doc('banner').set({messages:msgs}, {merge:true}).then(()=>showToast("ë“±ë¡ë¨"));

                });

            }

        }

        async function setAdminTicker(){ if(await verifyAdmin()){ const msg=prompt("ê³ ì •ê³µì§€:"); if(msg) db.collection('settings').doc('banner').set({adminMessage:msg}, {merge:true}).then(()=>showToast("ì„¤ì •ë¨")); } }

        async function resetTicker(){ if(await verifyAdmin() && confirm("ì´ˆê¸°í™”?")) db.collection('settings').doc('banner').set({adminMessage:null, messages:[]}).then(()=>showToast("ì™„ë£Œ")); }



        // Community & Management (Full Fix)

        async function addNotice(){ if(await verifyAdmin()){ const t=document.getElementById('noticeTitle').value, c=document.getElementById('noticeContent').value; db.collection("notices").add({title:t, content:c, date:new Date().toLocaleString(), timestamp:firebase.firestore.FieldValue.serverTimestamp()}).then(()=>showToast("ê³µì§€ ì™„ë£Œ")); } }

        async function delNotice(id,e){ e.stopPropagation(); if(await verifyAdmin() && confirm("ì‚­ì œ?")) db.collection("notices").doc(id).delete().then(()=>showToast("ì‚­ì œë¨")); }

        

        function addPost(){

            const t=document.getElementById('inputTitle').value, p=document.getElementById('inputPw').value, c=document.getElementById('inputContent').value;

            if(!t || !p || !c) return; db.collection("posts").add({title:t, password:p, content:c, name:"ìµëª…", timestamp:firebase.firestore.FieldValue.serverTimestamp()}).then(()=>{showToast("ì™„ë£Œ"); toggleHidden('boardForm');});

        }

        async function deletePost(id, pw, e){ e.stopPropagation(); const inputPw=prompt("ë¹„ë²ˆ:"); if(inputPw===pw || await verifyAdmin()){ if(confirm("ì‚­ì œ?")) db.collection("posts").doc(id).delete().then(()=>showToast("ì‚­ì œë¨")); } }



        function addShipInfo(){

            const n=document.getElementById('shipName').value, c=document.getElementById('shipOnboard').value, f=document.getElementById('shipFileInput').files[0];

            const save=(url)=>{ const d={shipName:n, onboardFeat:c, imageUrl:url, timestamp:firebase.firestore.FieldValue.serverTimestamp()}; (editingShipId?db.collection("ships").doc(editingShipId).update(d):db.collection("ships").add(d)).then(()=>{showToast("ì™„ë£Œ"); editingShipId=null; toggleHidden('shipForm');}); };

            if(f) storage.ref(`ships/${Date.now()}`).put(f).then(s=>s.ref.getDownloadURL()).then(u=>save(u)); else save(editingShipId?allShipsData.find(x=>x.id===editingShipId).imageUrl:null);

        }

        function editShip(id, e){ e.stopPropagation(); const x=allShipsData.find(s=>s.id===id); editingShipId=id; document.getElementById('shipName').value=x.shipName; document.getElementById('shipOnboard').value=x.onboardFeat; document.getElementById('shipForm').classList.remove('hidden'); document.getElementById('shipForm').scrollIntoView(); }

        async function deleteShip(id, e){ e.stopPropagation(); if(confirm("ì‚­ì œ?") && await verifyAdmin()) db.collection("ships").doc(id).delete().then(()=>showToast("ì‚­ì œë¨")); }



        function loadAllData(){

            db.collection("notices").orderBy("timestamp","desc").onSnapshot(s=>{const l=document.getElementById("noticeList"); l.innerHTML=""; s.forEach(d=>{const x=d.data(); l.innerHTML+=`<li class="post-item" onclick="toggleContent('n-${d.id}')">ğŸ“¢ <strong>${x.title}</strong><div id="n-${d.id}" class="post-body-content">${x.content}<br><button class="mini-btn btn-del" onclick="delNotice('${d.id}',event)">ì‚­ì œ</button></div></li>`;})});

            db.collection("posts").orderBy("timestamp","desc").onSnapshot(s=>{allPostsData=[]; s.forEach(d=>{allPostsData.push({...d.data(), id:d.id})}); renderBoardPage(1);});

            db.collection("ships").orderBy("timestamp","desc").onSnapshot(s=>{allShipsData=[]; s.forEach(d=>{allShipsData.push({...d.data(), id:d.id})}); filteredShips=allShipsData; renderShipPage(1);});

            loadBanner();

        }

        function renderBoardPage(p){ currentBoardPage=p; const l=document.getElementById("boardList"); l.innerHTML=""; allPostsData.slice((p-1)*postsPerPage, p*postsPerPage).forEach(x=>{l.innerHTML+=`<li class="post-item"><div class="post-header-row" onclick="toggleContent('p-${x.id}')"><span>${x.title}</span><button class="mini-btn btn-del" onclick="deletePost('${x.id}','${x.password}',event)">ì‚­ì œ</button></div><div id="p-${x.id}" class="post-body-content">${x.content}</div></li>`;}); }

        function renderShipPage(p){ currentShipPage=p; const l=document.getElementById("shipList"); l.innerHTML=""; filteredShips.slice((p-1)*postsPerPage, p*postsPerPage).forEach(x=>{l.innerHTML+=`<li class="post-item"><div onclick="toggleContent('s-${x.id}')" style="display:flex;justify-content:space-between;"><span>ğŸš¢ ${x.shipName}</span><div><button class="mini-btn btn-edit" onclick="editShip('${x.id}',event)">ìˆ˜ì •</button><button class="mini-btn btn-del" onclick="deleteShip('${x.id}',event)">ì‚­ì œ</button></div></div><div id="s-${x.id}" class="post-body-content">${x.onboardFeat}</div></li>`;}); }

        function filterShips(){const q=document.getElementById('shipSearch').value.toUpperCase(); filteredShips=allShipsData.filter(s=>s.shipName.toUpperCase().includes(q)); renderShipPage(1);}

        function openBusSchedule(){showToast("ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...");}



        window.onload=loadAllData;

    </script>

</body>

</html>
