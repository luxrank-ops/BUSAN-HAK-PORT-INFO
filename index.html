<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>BUSAN HAK PORT INFO</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="ë¶€ì‚°í•­ í˜„ì¥ ê·¼ë¡œìë¥¼ ìœ„í•œ ì„ê¸ˆ ê³„ì‚°, ê·¼ë¬´ ê¸°ë¡, ì •ë³´ ê³µìœ  ì›¹ì•±">

<!-- Google AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6024353303588422"
crossorigin="anonymous"></script>

<!-- Firebase v8 -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Noto Sans KR",sans-serif;
  background:#f4f4f4;
}
header{
  background:#0f172a;
  color:#fff;
  padding:20px;
}
header h1{margin:0;font-size:20px}
header p{margin:6px 0 0;font-size:13px;color:#cbd5e1}
main{
  max-width:900px;
  margin:auto;
  padding:16px;
}
.card{
  background:#fff;
  padding:16px;
  border-radius:8px;
  margin-bottom:16px;
}
input,textarea,button{
  width:100%;
  padding:10px;
  margin-top:8px;
  box-sizing:border-box;
}
textarea{min-height:90px}
button{
  background:#0f172a;
  color:#fff;
  border:none;
  border-radius:6px;
  font-weight:bold;
}
.post{
  border-top:1px solid #eee;
  padding-top:10px;
  margin-top:10px;
}
.notice{
  font-size:12px;
  color:#777;
}
footer{
  text-align:center;
  font-size:13px;
  padding:20px;
  color:#666;
}
.policy{
  font-size:13px;
  line-height:1.7;
}
</style>
</head>

<body>

<header>
  <h1>BUSAN HAK PORT INFO</h1>
  <p>ë¶€ì‚°í•­ í˜„ì¥ ê·¼ë¡œìë¥¼ ìœ„í•œ ë¬´ë£Œ ì—…ë¬´ ì§€ì› ì›¹ì•±</p>
</header>

<main>

<!-- ê²Œì‹œíŒ -->
<section class="card">
  <h2>ìµëª… ê²Œì‹œíŒ</h2>

  <input id="title" placeholder="ì œëª©">
  <input id="pw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ (ì‚­ì œ ì‹œ ì‚¬ìš©)">
  <textarea id="content" placeholder="ë‚´ìš©"></textarea>

  <button onclick="addPost()">ê¸€ ë“±ë¡</button>

  <p class="notice">
    ë¶€ì ì ˆí•œ ê²Œì‹œë¬¼ì€ <strong>luxrank@gmail.com</strong> ìœ¼ë¡œ ì‹ ê³ í•´ì£¼ì„¸ìš”.
  </p>
</section>

<section id="postList" class="card">
  <h3>ìµœê·¼ ê²Œì‹œê¸€</h3>
</section>

<!-- ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ -->
<section class="card policy">
<h3>ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</h3>
<p>
ë³¸ ì›¹ì•±ì€ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ Firebase ë° Google AdSenseë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
</p>
<ul>
<li>ìˆ˜ì§‘ í•­ëª©: ê²Œì‹œê¸€ ë‚´ìš©, ì ‘ì† ë¡œê·¸(IP)</li>
<li>ìˆ˜ì§‘ ëª©ì : ì„œë¹„ìŠ¤ ìš´ì˜ ë° ë¶€ì • ì´ìš© ë°©ì§€</li>
<li>ê´‘ê³ : Google AdSenseëŠ” ì¿ í‚¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
<p>ë¬¸ì˜: luxrank@gmail.com</p>
</section>

<!-- ì´ìš©ì•½ê´€ -->
<section class="card policy">
<h3>ì´ìš©ì•½ê´€</h3>
<ul>
<li>ê²Œì‹œë¬¼ì˜ ì±…ì„ì€ ì‘ì„±ì ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.</li>
<li>ìš•ì„¤Â·ë¹„ë°©Â·ë¶ˆë²• ê²Œì‹œë¬¼ì€ ì‚­ì œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>ìš´ì˜ìëŠ” ì„œë¹„ìŠ¤ ìš´ì˜ì„ ìœ„í•´ ê²Œì‹œë¬¼ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
</section>

</main>

<footer>
<p>
ë¬¸ì˜: luxrank@gmail.com<br>
Â© BUSAN HAK PORT INFO
</p>
</footer>

<script>
/* ğŸ” Firebase ì„¤ì • â€“ ì—¬ê¸°ë§Œ ìˆ˜ì • */
firebase.initializeApp({
  apiKey: "ì—¬ê¸°ì—_API_KEY",
  projectId: "ì—¬ê¸°ì—_PROJECT_ID"
});
const db = firebase.firestore();

/* XSS ë°©ì–´ */
function escapeHTML(str=''){
  return str.replace(/[&<>"']/g, m => ({
    '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
  }[m]));
}

/* ê²Œì‹œê¸€ ë“±ë¡ */
function addPost(){
  const t = title.value.trim();
  const p = pw.value.trim();
  const c = content.value.trim();

  if(!t || !p || !c){
    alert("ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš”");
    return;
  }

  db.collection("posts").add({
    title: escapeHTML(t),
    content: escapeHTML(c),
    password: p,
    createdAt: firebase.firestore.FieldValue.serverTimestamp()
  });

  title.value = pw.value = content.value = "";
  loadPosts();
}

/* ê²Œì‹œê¸€ ë¶ˆëŸ¬ì˜¤ê¸° */
function loadPosts(){
  postList.innerHTML = "<h3>ìµœê·¼ ê²Œì‹œê¸€</h3>";

  db.collection("posts")
    .orderBy("createdAt","desc")
    .limit(20)
    .get()
    .then(snapshot=>{
      snapshot.forEach(doc=>{
        const d = doc.data();
        const div = document.createElement("div");
        div.className = "post";
        div.innerHTML = `
          <h4>${d.title}</h4>
          <p>${d.content}</p>
        `;
        postList.appendChild(div);
      });
    });
}

loadPosts();
</script>

</body>
</html>
